async function recommendInvestment() {
    const amount = parseFloat(document.getElementById('investment-amount').value);
    const type = document.getElementById('investment-type').value;
    if (isNaN(amount) || amount <= 0) {
        alert('Please enter a valid investment amount');
        return;
    }

    const newsImpact = await fetchNewsImpact();
    const webAnalysis = await fetchWebAnalysis();
    const recommendations = [];

    allData.forEach(coin => {
        const change = type === 'short' ? coin.price_change_percentage_24h
                    : type === 'medium' ? coin.price_change_percentage_7d
                    : coin.price_change_percentage_30d;
        if (change > 0 && recommendations.length < 5) {
            recommendations.push(coin);
        }
    });

    const investmentAmounts = [
        (amount * 0.4).toFixed(2),
        (amount * 0.2).toFixed(2),
        (amount * 0.2).toFixed(2),
        (amount * 0.1).toFixed(2),
        (amount * 0.1).toFixed(2)
    ];

    const investmentList = document.getElementById('investment-recommendations');
    investmentList.innerHTML = recommendations.map((coin, index) => `<li>${coin.name} (${coin.symbol.toUpperCase()}): $${investmentAmounts[index]}</li>`).join('');
}
